<!DOCTYPE html>
<!-- Designined by CodingLab | www.youtube.com/codinglabyt -->
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <title> Admin Dashboard </title>
    <link rel="stylesheet" href="css/admin.css">
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
<body>
  
  <div class="sidebar">
    <div class="logo-details">
    
      <span class="logo_name"> Sona Datazoids</span>
    </div>
      <ul class="nav-links">
        <li>
          <a href="#" class="active">
            <i class='bx bx-grid-alt' ></i>
            <span class="links_name">Admin Dashboard</span>
          </a>
        </li>
        <li>
          <a href="http://localhost:3000/csea">
            <i class='bx bx-grid-alt' ></i>
            <span class="links_name">CSE A</span>
          </a>
        </li>

        <li>
          <a href="http://localhost:3000/cseb">
            <i class='bx bx-grid-alt' ></i>
            <span class="links_name">CSE B</span>
          </a>
        </li>

        <li>
          <a href="http://localhost:3000/csec">
            <i class='bx bx-grid-alt' ></i>
            <span class="links_name">CSE C</span>
          </a>
        </li>

        
        <li>
        <li class="log_out">
          <a href="/">
            <i class='bx bx-log-out'></i>
            <span class="links_name">Log out</span>
          </a>
        </li>
      </ul>
  </div>
  <section class="home-section">
    <nav>
      <div class="sidebar-button">
        <i class='bx bx-menu sidebarBtn'></i>
        <span class="dashboard">Admin Dashboard</span>
      </div>
      
      <div class="profile-details">
        <img src="images/profile.png" alt="">
        <span name="stdname" class="admin_name">101101</span>
        <i class='bx bx-chevron-down' ></i>
      </div>
    </nav>

    <div class="home-content">
      <div class="overview-boxes">
        <div class="box">
          <div class="right-side">
            <div class="box-topic">Department</div>
            <div class="number">CSE</div>
            <div class="indicator">
              
              
            </div>
          </div>
         
        </div>
        <div class="box">
          <div class="right-side">
            <div class="box-topic">No. of Students</div>
            <div class="number">99</div>
            <div class="indicator">
              
              
            </div>
          </div>
          
        </div>
        <div class="box">
          <div class="right-side">
            <div class="box-topic">Academics</div>
            <div class="number"><%= academics_avg %>%</div>
            <div class="indicator">
              
              
            </div>
          </div>
          
        </div>
        <div class="box">
          <div class="right-side">
            <div class="box-topic">Placements</div>
            <div class="number"><%= placement_avg %>%</div>
            <div class="indicator">
              
              
            </div>
          </div>
          
        </div>
      </div>

      <div class="sales-boxes">
        <div class="recent-sales box">
          <div class="title">OverAll Performance in Academics</div>
          <canvas id="myChart1" width="500" height="300"></canvas>
          

        </div>
        <div class="top-sales box">
          <div class="title">OverAll Performance in Placements</div>
          <canvas id="myChart2" width="500" height="300"></canvas>
          
        </div>
      </div>
    </div>
  </section>
  <script>
    const data1 = {
      'CIE1': "<%= cie1_avg %>",
      'CIE2': "<%= cie2_avg %>",
      'CIE3': "<%= cie3_avg %>",
    }

    const data2 = {
      'SOFTSKILLS' : "<%= softskills_avg %>",
      'APTITUDE' : "<%= aptitude_avg %>",
      'TECHNICAL':"<%= technical_avg %>",
    };

  const ctx1 = document.getElementById('myChart1').getContext('2d');
  const ctx2 = document.getElementById('myChart2').getContext('2d');

  const myChart1 = new Chart(ctx1, {
	  type: 'bar',
	  data: {
		  labels: Object.keys(data1),
		  datasets: [
			  {
			    label: 'Overall Average marks scored in each CIE exams',
				  data: Object.values(data1),
			  },
		  ],
	  },
      options: {
          scales: {
            y:{
              suggestedMax: 100
            }
          },
          backgroundColor: [
          'rgba(187, 223, 156, 0.8)',  // Bar 1
          'rgba(113, 226, 222, 0.86)',  // Bar 2
          'rgba(255, 201, 255, 0.86)', // Bar 3
          ],
          borderWidth: 2,
          borderColor: 'black'
      }
    });

    const myChart2 = new Chart(ctx2, {
	  type: 'bar',
	  data: {
		  labels: Object.keys(data2),
		  datasets: [
			  {
			    label: 'Average marks scored in PLACEMENT skills',
				  data: Object.values(data2),
			  },
		  ],
	  },
      options: {
          scales: {
            y:{
              suggestedMax: 100
            }
          },
          backgroundColor: [
              'rgba(245, 144, 145, 0.8)',  // Bar 1
              'rgba(245, 144, 207, 0.8)',  // Bar 2
              'rgba(91, 144, 207, 0.8)',  // Bar 3
          ],
          borderWidth: 2,
          borderColor: 'black'
      }
    });
  </script>
  <script src="js/script.js"></script>

  

</body>
</html>
